<div class="p-1" *ngIf="rows.length; else noData">
    <p-table
            [value]="rows"
            stripedRows
            [tableStyle]="{'width': '100%; max-height: 50%'}"
            class="font-medium full-width"
            styleClass="w-full">>
        <ng-template pTemplate="header" class="font-medium full-width">
            <tr class="font-medium full-width">
                <th>Expanse Category ({{ rows.length}})</th>
                <th>Transactions</th>
                <th class="tcs-header">Sum</th>
                <th>Menu</th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-row>
            <tr class="text-sm font-medium leading-tight dark:text-surface-0 text-muted-color">
                <td>
                    <p-tag
                            pStyleClass="font-medium"
                            data-p="success"
                            class="font-medium p-component p-tag p-tag-success"
                            [style.backgroundColor]="resolveColor(row.categoryName)"
                            [style.borderColor]="resolveColor(row.categoryName)"
                            [style.color]="resolveFontColor(resolveColor(row.categoryName))"
                            data-pc-section="root"
                            data-pc-name="t">
                        <span class="p-tag-label" data-pc-section="label"
                        >{{ row.categoryName }}</span></p-tag>
                </td>
                <td style="width: 7rem" class="tcs-cell-number">{{ row.transactionCount }}</td>
                <td class="tcs-cell-number">
                    {{ row.totalAmount | currency: ' ':'code':'2.2-2'}}
                </td>
                <td style="width: 5rem; text-align: center;">
                    <p-button pButton pRipple class="p-button-text p-button-plain p-0 " icon="pi pi-pencil" size="small" variant="text" severity="success" (click)="onCategoryEditClick(row.category)"></p-button>
                    <p-button pButton pRipple class="p-button-text p-button-plain p-0 " icon="pi pi-times" size="small" variant="text" severity="warn" (click)="onRemoveCategoryClicked(row.category.id)"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <div class="tcs-summary-footer p-2">
        <div>Expense total: {{ total | currency: ' ':'code':'2.2-2'}}</div>
    </div>


</div>
<ng-template #noData>
    <div class="tcs-empty">
        No transactions to summarize.
    </div>
</ng-template>
<edit-category
        [visible]="showEditCategoryDialog"
        [category]="categoryToEdit!"
        [banks]="banks"
        [matchTypes]="matchTypes"
        [fieldTypes]="fieldTypes"
        (notify)="onNotify($event)"
></edit-category>
